<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amsterdam Restaurant: Digital Marketing Content Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F3F4F6;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .priority-card {
            border-left-width: 4px;
            padding-left: 1.5rem;
        }
        .priority-1 { border-color: #FF6B6B; }
        .priority-2 { border-color: #FFD166; }
        .priority-3 { border-color: #06D6A0; }
        .result-card {
            background-color: #FFFFFF;
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-6xl">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-[#118AB2]">Digital Content Strategy</h1>
            <p class="text-xl text-gray-600 mt-2">An Infographic for Your Amsterdam Restaurant</p>
        </header>

        <section id="platform-strategy" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#073B4C]">Our Three-Pillar Platform Strategy</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white rounded-lg shadow-md p-6 text-center">
                    <div class="text-5xl mb-4">üì∏</div>
                    <h3 class="text-2xl font-semibold mb-2 text-[#118AB2]">Instagram</h3>
                    <p class="text-gray-600">Your visual showcase to build community and create desire through authentic, high-quality content.</p>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 text-center">
                    <div class="text-5xl mb-4">üéØ</div>
                    <h3 class="text-2xl font-semibold mb-2 text-[#118AB2]">Meta Ads</h3>
                    <p class="text-gray-600">Crucial for targeted reach and driving specific actions like reservations and website visits.</p>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 text-center">
                    <div class="text-5xl mb-4">üìç</div>
                    <h3 class="text-2xl font-semibold mb-2 text-[#118AB2]">Google Business</h3>
                    <p class="text-gray-600">Your most important tool for local search, connecting you with customers actively looking to dine.</p>
                </div>
            </div>
        </section>

        <section id="content-breakdown" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#073B4C]">Weekly Content Posting Frequency</h2>
             <div class="bg-white rounded-lg shadow-md p-6">
                <p class="text-center text-gray-600 mb-6">A balanced mix of content across platforms is key to sustained growth and engagement. This chart visualizes the recommended number of posts per week for each major content type.</p>
                <div class="chart-container h-96 md:h-[450px]">
                    <canvas id="postingFrequencyChart"></canvas>
                </div>
            </div>
        </section>

        <section id="content-prioritization" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#073B4C]">Content Prioritization for Limited Resources</h2>
            <div class="bg-white rounded-lg shadow-md p-6">
                 <p class="text-center text-gray-600 mb-8">When time and resources are tight, focus on the activities that deliver the highest impact. Follow this prioritized plan to maximize your results efficiently.</p>
                <div class="space-y-8">
                    <div>
                        <h3 class="text-2xl font-semibold mb-4 text-[#FF6B6B]">Priority 1: Foundational & Growth-Driving</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="priority-card priority-1">
                                <h4 class="font-bold text-lg">Google Business Profile</h4>
                                <p class="text-gray-600">Update photos and create weekly posts. This has the highest ROI as it captures customers who are actively searching for a restaurant.</p>
                            </div>
                            <div class="priority-card priority-1">
                                <h4 class="font-bold text-lg">Instagram Reels</h4>
                                <p class="text-gray-600">Create 1-2 high-quality Reels per week. This is the most effective way to reach new audiences and grow your following organically.</p>
                            </div>
                            <div class="priority-card priority-1">
                                <h4 class="font-bold text-lg">Paid Ads</h4>
                                <p class="text-gray-600">Run targeted video or carousel ads. This directly drives traffic and sales, providing measurable results even with a small budget.</p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-2xl font-semibold mb-4 text-[#FFD166]">Priority 2: Community & Engagement</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="priority-card priority-2">
                                <h4 class="font-bold text-lg">High-Quality Instagram Photos</h4>
                                <p class="text-gray-600">Your "digital menu." Essential for converting profile visitors into followers and for engaging your existing community.</p>
                            </div>
                            <div class="priority-card priority-2">
                                <h4 class="font-bold text-lg">Instagram Stories</h4>
                                <p class="text-gray-600">Low-effort, high-impact for daily engagement. Use polls and Q&As to keep your brand top-of-mind and build personal connections.</p>
                            </div>
                        </div>
                    </div>

                     <div>
                        <h3 class="text-2xl font-semibold mb-4 text-[#06D6A0]">Priority 3: Supplemental & Storytelling</h3>
                        <div class="grid grid-cols-1">
                             <div class="priority-card priority-3">
                                <h4 class="font-bold text-lg">Carousel Posts</h4>
                                <p class="text-gray-600">Ideal for deeper storytelling, like menu walkthroughs or team introductions. Implement these once you have a consistent workflow for higher priority content.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="gemini-content-generator" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#073B4C]">‚ú® Content Idea Generator ‚ú®</h2>
            <div class="bg-white rounded-lg shadow-md p-6">
                <p class="text-center text-gray-600 mb-6">
                    Facing writer's block? Use the power of AI to generate creative content ideas for your posts and ads.
                </p>
                <div class="flex flex-col md:flex-row gap-4 mb-4">
                    <input type="text" id="topicInput" class="w-full md:w-2/3 rounded-md border border-gray-300 p-2 focus:ring-[#118AB2] focus:border-[#118AB2]" placeholder="e.g., New spring menu, Hiring a head chef, Weekend brunch special">
                    <button id="generateBtn" class="w-full md:w-1/3 bg-[#118AB2] text-white font-bold py-2 px-4 rounded-md hover:bg-[#073B4C] transition-colors duration-200">
                        Generate Ideas
                    </button>
                </div>
                <div id="loadingIndicator" class="hidden text-center text-gray-500 my-4">
                    <div class="animate-spin inline-block w-8 h-8 border-4 border-t-4 border-[#118AB2] border-opacity-25 rounded-full"></div>
                    <p class="mt-2">Generating content...</p>
                </div>
                <div id="resultsContainer" class="hidden mt-6">
                    <h4 class="text-2xl font-bold mb-4 text-[#073B4C]">Generated Content</h4>
                    <div class="space-y-6">
                        <div id="socialPost" class="result-card">
                            <h5 class="text-lg font-bold text-[#FF6B6B]">Social Media Post Idea</h5>
                            <p class="text-gray-700 mt-2"></p>
                        </div>
                        <div id="googlePost" class="result-card">
                            <h5 class="text-lg font-bold text-[#FF6B6B]">Google Business Profile Update</h5>
                            <p class="text-gray-700 mt-2"></p>
                        </div>
                        <div id="adHeadline" class="result-card">
                            <h5 class="text-lg font-bold text-[#FF6B6B]">Paid Ad Headline & Copy</h5>
                            <p class="text-gray-700 mt-2"></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center mt-12 text-gray-500">
            <p>This infographic provides a strategic overview based on the supplied content plan.</p>
            <p>Data visualization powered by Chart.js. AI content generation powered by the Gemini API. Styled with Tailwind CSS.</p>
        </footer>

    </div>

    <script>
        function wrapLabels(label, maxWidth) {
            if (typeof label !== 'string' || label.length <= maxWidth) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            words.forEach(word => {
                if ((currentLine + word).length > maxWidth) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            });
            lines.push(currentLine.trim());
            return lines;
        }

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };

        const ctx = document.getElementById('postingFrequencyChart').getContext('2d');
        const postingFrequencyData = {
            labels: [
                'Instagram Stories',
                'High-Quality Photo Posts (Instagram & Google)',
                'Instagram Reels',
                'Google Business Posts & Photos',
                'Carousel Posts'
            ].map(label => wrapLabels(label, 16)),
            datasets: [{
                label: 'Posts per Week',
                data: [7, 4, 3, 1, 0.5],
                backgroundColor: [
                    '#FF6B6B',
                    '#FFD166',
                    '#06D6A0',
                    '#118AB2',
                    '#073B4C',
                ],
                borderColor: [
                    '#FF6B6B',
                    '#FFD166',
                    '#06D6A0',
                    '#118AB2',
                    '#073B4C',
                ],
                borderWidth: 1
            }]
        };

        new Chart(ctx, {
            type: 'bar',
            data: postingFrequencyData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: {
                    x: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Recommended Posts Per Week'
                        }
                    },
                    y: {
                       ticks: {
                           autoSkip: false
                       }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    title: {
                        display: true,
                        text: 'Recommended Weekly Content Volume by Type',
                        font: {
                            size: 18
                        }
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback
                        }
                    }
                }
            }
        });

        document.getElementById('generateBtn').addEventListener('click', async () => {
            const topic = document.getElementById('topicInput').value;
            if (!topic) {
                alert('Please enter a topic to generate content ideas.');
                return;
            }

            const loadingIndicator = document.getElementById('loadingIndicator');
            const resultsContainer = document.getElementById('resultsContainer');
            const socialPostEl = document.getElementById('socialPost').querySelector('p');
            const googlePostEl = document.getElementById('googlePost').querySelector('p');
            const adHeadlineEl = document.getElementById('adHeadline').querySelector('p');

            socialPostEl.textContent = '';
            googlePostEl.textContent = '';
            adHeadlineEl.textContent = '';

            loadingIndicator.classList.remove('hidden');
            resultsContainer.classList.add('hidden');

            const prompt = `Generate a creative content plan for a restaurant in Amsterdam based on the following topic: "${topic}". The output should be a single JSON object with three properties: "socialMediaPost", "googleBusinessUpdate", and "paidAdHeadline". Each property should contain a creative text draft. The tone should be friendly, inviting, and professional.`;
            
            const payload = {
                contents: [{ role: "user", parts: [{ text: prompt }] }],
                generationConfig: {
                    responseMimeType: "application/json",
                    responseSchema: {
                        type: "OBJECT",
                        properties: {
                            "socialMediaPost": { "type": "STRING" },
                            "googleBusinessUpdate": { "type": "STRING" },
                            "paidAdHeadline": { "type": "STRING" }
                        },
                        "propertyOrdering": ["socialMediaPost", "googleBusinessUpdate", "paidAdHeadline"]
                    }
                }
            };
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            const makeApiCall = async (retries = 3) => {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        const errorData = await response.text();
                        console.error('API call failed:', response.status, response.statusText, errorData);
                        throw new Error(`API error: ${response.statusText}`);
                    }
                    const result = await response.json();
                    const jsonText = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                    if (!jsonText) {
                        throw new Error('No content received from API.');
                    }
                    return JSON.parse(jsonText);
                } catch (error) {
                    if (retries > 0) {
                        const delay = Math.pow(2, 3 - retries) * 1000 + Math.random() * 1000;
                        console.log(`Retrying in ${delay}ms...`);
                        await new Promise(res => setTimeout(res, delay));
                        return makeApiCall(retries - 1);
                    } else {
                        throw error;
                    }
                }
            };

            try {
                const generatedContent = await makeApiCall();
                socialPostEl.textContent = generatedContent.socialMediaPost;
                googlePostEl.textContent = generatedContent.googleBusinessUpdate;
                adHeadlineEl.textContent = generatedContent.paidAdHeadline;
                resultsContainer.classList.remove('hidden');
            } catch (error) {
                console.error('Error generating content:', error);
                socialPostEl.textContent = 'Failed to generate content. Please try again later.';
            } finally {
                loadingIndicator.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
